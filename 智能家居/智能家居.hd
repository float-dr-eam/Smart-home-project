<xml xmlns="http://www.w3.org/1999/xhtml"><block type="procedures_defnoreturn" id="_,CA|X7pZb*u76:(u~i6" x="573" y="-199"><field name="NAME">ASR_CODE</field><comment pinned="false" h="80" w="160">描述该功能...</comment><statement name="STACK"><block type="block_with_textarea" id="Y][*{?p4~JC@(h_kq{j8"><field name="input">//本函数是语音识别成功钩子程序
//运行时间越短越好，复杂控制启动新线程运行</field><next><block type="block_with_textarea" id="[;Y-r{cZh|7@8;cMICYj"><field name="input">//唤醒时间设置必须在ASR_CODE中才有效</field><next><block type="set_state_enter_wakeup" id="o_iFgGnjoT`?{b^FdB~("><value name="num"><shadow type="math_number" id="pw~TQu+NtH+xQ0=YVosD"><field name="NUM">20</field></shadow></value><next><block type="variables_set" id="$@^)yZB;DZK+$A3uyngh"><field name="VAR">UserFlag</field><value name="VALUE"><block type="serial_readstr" id="fB/}x9WS}ejQ)DEu7,cg"><field name="serial_select">Serial</field></block></value><next><block type="controls_if" id="xZAb4]:~/XPBRvN.R#s5"><value name="IF0"><block type="logic_compare" id="yyp[YX?p4Oz9%2z1YO]h"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="oki6dFj%B[b*85jsin@v"><field name="VAR">UserFlag</field></block></value><value name="B"><block type="text" id="9G~FDDj~-azmhNn;0gs["><field name="TEXT">UserFlag:1</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="{+]FeP@~/=3,}i72XhVB"><field name="VAR">temp</field><value name="VALUE"><block type="text" id="WAb|J1REB%MdDy|2Ko1Q"><field name="TEXT">UserFlag:1</field></block></value></block></statement><next><block type="controls_if" id="L/bjRBiXAv7iz%w*vEq?"><value name="IF0"><block type="logic_compare" id="x1{DIr^!%,Gl/mJD4/$B"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="VmzcWRLkY%6=URmn|*z3"><field name="VAR">UserFlag</field></block></value><value name="B"><block type="text" id="y9X[V8/Nn#hb`LQ@w0$-"><field name="TEXT">UserFlag:0</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="dwB[pS:X*4coHv0PrN[w"><field name="VAR">temp</field><value name="VALUE"><block type="text" id="^;-hQKX=Th^TB2]Fh1FB"><field name="TEXT">UserFlag:0</field></block></value></block></statement><next><block type="controls_if" id="vftbZ1Pg?QU`mr)2iE/:"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="}~tZwhQZg_MeDoK3UZiK"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="F}.S3ah[1k,HqHCRGPaE"><field name="VAR">temp</field></block></value><value name="B"><block type="text" id="JGn.TppjrV?g,P9?7d`X"><field name="TEXT">UserFlag:1</field></block></value></block></value><statement name="DO0"><block type="controls_switch_case" id="SVt|/cc$9%|LP[Py(W#N"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="uUo}{mhgYzJUrlbl9PBq"></block></value><value name="IF1"><block type="math_number" id="AD#em#X}}iY!T_eyn[Xh"><field name="NUM">1</field></block></value><statement name="DO1"><block type="serial_print" id="x|FI(:/iMDvXJ[14$2^i"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id=":=$%b]mz7iik(C;IZdhj"><field name="TEXT">led_on1</field></block></value><next><block type="asr_event_play_audio" id="HIa5|3MSN-8.`X_pDpen"><field name="audio">已打开灯光</field></block></next></block></statement><value name="IF2"><block type="math_number" id="Ip{@!@y]xJj6Sh[J#dnv"><field name="NUM">2</field></block></value><statement name="DO2"><block type="serial_print" id="@q~.ysn+e$|t)`7qcc70"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="vjwy9PCT3_1Uf;Y~wOYs"><field name="TEXT">led_off1</field></block></value><next><block type="asr_event_play_audio" id="LAInzi;CRZS)V5Zf{ug-"><field name="audio">已关闭灯光</field></block></next></block></statement><next><block type="controls_switch_case" id="cq~]^nFpJ9+zPqX]P([j"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="#:qCg2}M)o!=hU)g[B7X"></block></value><value name="IF1"><block type="math_number" id="%W[Tc=i[hrl_{Eq!zP${"><field name="NUM">3</field></block></value><statement name="DO1"><block type="serial_print" id="B%diNJ`_J@;lw0xnx]X4"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id=";x/]ADp[we4$y{,+N.wo"><field name="TEXT">hum_on1</field></block></value><next><block type="asr_event_play_audio" id="6dgeN:k{eu5_zx-81/u}"><field name="audio">已经打开加湿器</field></block></next></block></statement><value name="IF2"><block type="math_number" id="!QbVsL1K]gw,FBF[M=bo"><field name="NUM">4</field></block></value><statement name="DO2"><block type="serial_print" id="4.W]G6py8`}PT6],D6S5"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="H`xj(X9}l8@^/A{eVh~E"><field name="TEXT">hum_off1</field></block></value><next><block type="asr_event_play_audio" id="u]o`cm;HLE{I)~.46=E%"><field name="audio">已经关闭加湿器</field></block></next></block></statement><next><block type="controls_switch_case" id="~JAipJ@.,t)FcGEB(cd9"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="O1Ud/h+cs$_j@.)Ao[1y"></block></value><value name="IF1"><block type="math_number" id="]2@Crku#}iCPS79-Qqg4"><field name="NUM">5</field></block></value><statement name="DO1"><block type="serial_print" id="FmI!L-OA)h=~}4F78O1["><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="C_)~(0LpsehBRid|`uaf"><field name="TEXT">update_tem1</field></block></value><next><block type="asr_event_play_audio" id="qsl%69|43g=etV;RQv.R"><field name="audio">已更新温湿度</field></block></next></block></statement><value name="IF2"><block type="math_number" id="G1x5JQ5.zU)MIy4N(X*h"><field name="NUM">6</field></block></value><statement name="DO2"><block type="serial_print" id="LwF]TyeVwE6tl|+anTKR"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="xfC,6^#@TUhPIcA3tuN["><field name="TEXT">update_water1</field></block></value><next><block type="asr_event_play_audio" id="CZ_zrj#*q1D9WCL),AA!"><field name="audio">已更新水位</field></block></next></block></statement><next><block type="controls_switch_case" id="|Eh)n7X_),Lze[5R+?-E"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="CJz5SUky/{b7Tc64*ZcH"></block></value><value name="IF1"><block type="math_number" id="qF9+p)`5Zkc^RG#G6#:h"><field name="NUM">7</field></block></value><statement name="DO1"><block type="serial_print" id="{h~t$(7n~cu0f|e2?Ex?"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="~qTr`(^qfe2q(r_e~yy{"><field name="TEXT">match_finger1</field></block></value><next><block type="asr_event_play_audio" id="8GUGL/IEv4`B35=0@pz]"><field name="audio">好的</field></block></next></block></statement><value name="IF2"><block type="math_number" id="u.Cf2oS1ic80gkF1zt87"><field name="NUM">8</field></block></value><statement name="DO2"><block type="serial_print" id="2fUPjHKM,Oz$B}k*-Hk$"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="@JvV-:m`86;/@.B:a9F."><field name="TEXT">all_user1</field></block></value><next><block type="asr_event_play_audio" id="WrY2y7=ARF=o*DQCX=aj"><field name="audio">好的</field></block></next></block></statement><next><block type="controls_switch_case" id="gyr81S!d+YTh7TwF8}}w"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="79Yqnp)v~Q:)-2T=d2`{"></block></value><value name="IF1"><block type="math_number" id="!q$pIV/`1m/F;n$}oqU`"><field name="NUM">9</field></block></value><statement name="DO1"><block type="serial_print" id="NA1j1UePFfLF!D!W/dKU"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="(+O=B2z$/zAFjRkCL}Z8"><field name="TEXT">log_out1</field></block></value><next><block type="variables_set" id="@p}~0QLm/zq6D~X!.@h("><field name="VAR">temp</field><value name="VALUE"><block type="text" id="#yWC`*g9E1=LU$9f7a^R"><field name="TEXT">UserFlag:0</field></block></value><next><block type="asr_event_play_audio" id="`bXT@kix}bbUxc3$;.,Y"><field name="audio">退出成功！</field></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="controls_switch_case" id="O|sCp-3D2LR-vFtC]rbD"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="k@sx44hZAol]wR*yq]Ag"></block></value><value name="IF1"><block type="math_number" id="{uWg1Xd0?IP7.!FNjs*u"><field name="NUM">1</field></block></value><statement name="DO1"><block type="asr_event_play_audio" id="**d%TQP9Ru!_=6:QeQ^4"><field name="audio">你没有权限</field></block></statement><value name="IF2"><block type="math_number" id="aGLQQBVkY]}qoEk8b0i-"><field name="NUM">2</field></block></value><statement name="DO2"><block type="asr_event_play_audio" id="%[sM%(5!Wlc[3Ak64q.`"><field name="audio">你没有权限</field></block></statement><next><block type="controls_switch_case" id="B},}_.GDHo:h}K*ET=aW"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="BqYb_rR%{O[]${3OLcn`"></block></value><value name="IF1"><block type="math_number" id="y]qbEA8~3`!qM/.,Yt4g"><field name="NUM">3</field></block></value><statement name="DO1"><block type="asr_event_play_audio" id="1:-y39+A/V}b8IlO,%?V"><field name="audio">你没有权限</field></block></statement><value name="IF2"><block type="math_number" id="uyU9]brKbnOTJGR@COM("><field name="NUM">4</field></block></value><statement name="DO2"><block type="asr_event_play_audio" id="A:wuSc0m`G5Q0B_Q$Gu+"><field name="audio">你没有权限</field></block></statement><next><block type="controls_switch_case" id="`=N-33XgVJ^=jCYQ]mQ8"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="]/2$_9S$(ZWn?)$i2kYi"></block></value><value name="IF1"><block type="math_number" id="t^)hftC7,:[rdDsoo|E*"><field name="NUM">5</field></block></value><statement name="DO1"><block type="asr_event_play_audio" id="sM5|{BKY?9zJB[NXn_H4"><field name="audio">你没有权限</field></block></statement><value name="IF2"><block type="math_number" id="JKdb#gI(fr2(7M8j)q|`"><field name="NUM">6</field></block></value><statement name="DO2"><block type="asr_event_play_audio" id="*{Y^!?#sBU(ov[2)jkaV"><field name="audio">你没有权限</field></block></statement><next><block type="controls_switch_case" id="w:98(#GB:i~#W^^:XA32"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="=qL{w^;Ly9`*zbqOMv5W"></block></value><value name="IF1"><block type="math_number" id="OjDf%iEiCMej|;BTkJsZ"><field name="NUM">7</field></block></value><statement name="DO1"><block type="serial_print" id="uevY7N133CvLEK#tq)4%"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="nmtnK}ehJt(3B%Z-FN35"><field name="TEXT">match_finger1</field></block></value><next><block type="asr_event_play_audio" id="S+5?t,hUzbJpffd`-u1j"><field name="audio">好的</field></block></next></block></statement><value name="IF2"><block type="math_number" id="5!x)VHmVhzR%x:Bv*Ayq"><field name="NUM">8</field></block></value><statement name="DO2"><block type="serial_print" id="$[DvIj@a%*_nP+?:X[mr"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="ilTqPOmDj+L;DqL9o^(o"><field name="TEXT">all_user1</field></block></value><next><block type="asr_event_play_audio" id="LmQren_ik0#]Qkfoy9sb"><field name="audio">好的</field></block></next></block></statement><next><block type="controls_switch_case" id="]L=Wz}l?#-WS/wBUHK9{"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="*/dY7t*ity:^9-9QR-}-"></block></value><value name="IF1"><block type="math_number" id="w+D5Q9SDm9-DEiEP:a3R"><field name="NUM">9</field></block></value><statement name="DO1"><block type="asr_event_play_audio" id="jv;5O,J,ikGT#.FU.|gL"><field name="audio">您还没有进行指纹匹配哦</field></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="hardware_init" id="5(xjiHKGxzSO7.q~)ub2" x="78" y="-142"><statement name="DO"><block type="block_with_textarea" id="mRv=s#Ol,$7T%^)k03GW"><field name="input">//需要操作系统启动后初始化的内容</field><next><block type="block_with_textarea" id="dtr+9R=GG,O0wj(yO4Z$"><field name="input">//音量范围1-7</field><next><block type="vol_set" id="]7/`yuVo}+2PuukIy2,8"><value name="num"><shadow type="asr_vol" id="t9hY@q#b_2CO_3/_Z1u#"><field name="PIN">5</field></shadow></value></block></next></block></next></block></statement></block><block type="setup" id="FZ;QNouPm+Ydel/bulm8" x="-217" y="121"><statement name="DO"><block type="block_with_textarea" id="66J,7(Nj[CktsTAH?eYT"><field name="input">//需要操作系统启动前初始化的内容</field><next><block type="block_with_textarea" id="xWLiUKfMSmt6$=5z;3T2"><field name="input">//播报音下拉菜单可以选择，合成音量是指TTS生成文件的音量</field><next><block type="asr_speak" id="MaT`9+Oikgn}zKtgg?A["><field name="VOICE_SET">小蝶-清新女声</field><field name="vol">6</field><field name="speed">10</field><next><block type="block_with_textarea" id="2@?n55;2(xS*c`=7,ke0"><field name="input">//欢迎词指开机提示音，可以为空</field><next><block type="asr_welcom" id=")3`e*f)~4i4wI?[QymJY"><field name="NAME">欢迎使用语音助手</field><next><block type="block_with_textarea" id="HJx~+H;YsZH70,LqYXPN"><field name="input">//退出语音是指休眠时提示音，可以为空</field><next><block type="asr_sleep" id="T/2u}Q$vc/$/dkOG~rov"><field name="NAME">我退下了</field><next><block type="block_with_textarea" id="BkD0VpH-lb;yAtn`gS$+"><field name="input">//休眠后用唤醒词唤醒后才能执行命令，唤醒词最多5个。回复语可以空。ID范围为0-9999</field><next><block type="asr_id" id="z;IHE4P.32Y=Pe:PfICo"><field name="ASR">小智</field><field name="leibie">唤醒词</field><field name="huifu">我在</field><field name="id">0</field><next><block type="asr_id" id="H0n={`wO_tYk*.z/Au64"><field name="ASR">小智小智</field><field name="leibie">唤醒词</field><field name="huifu">在的主人</field><field name="id">10</field><next><block type="asr_id" id="WGh,bSr^sIm$aEQgotZ^"><field name="ASR">打开灯光</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">1</field><next><block type="asr_id" id=".Xid,q-ElB,i-!WiaE6G"><field name="ASR">关闭灯光</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">2</field><next><block type="asr_id" id="Z405aU1yly#P.8/D}L*i"><field name="ASR">打开加湿器</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">3</field><next><block type="asr_id" id="W:YE5#/]_13!qpnlQW(k"><field name="ASR">关闭加湿器</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">4</field><next><block type="asr_id" id="R|IH?Fv6n/JY{+^N*MVy"><field name="ASR">更新温湿度显示</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">5</field><next><block type="asr_id" id="Siew36S1Ghu1eTM|R~ix"><field name="ASR">更新水位显示</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">6</field><next><block type="asr_id" id="{,M,[`eg7]^jTIQq=C$V"><field name="ASR">指纹匹配</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">7</field><next><block type="asr_id" id="pD?whOMoHwwZa82iV#Td"><field name="ASR">获取用户数量</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">8</field><next><block type="asr_id" id="QRWJ]^@DzI{]YuCMm-Gn"><field name="ASR">退出登录</field><field name="leibie">命令词</field><field name="huifu"></field><field name="id">9</field><next><block type="serial_begin" id="jWg(/=[]%]^5JqWZfD7X"><field name="serial_select">Serial</field><field name="TX">PB_5</field><field name="RX">PB_6</field><value name="CONTENT"><shadow type="baud" id="qM?6PByv(~C/GaX1YLO;"><field name="baud">115200</field></shadow></value><next><block type="variables_declare" id="sn`GQy_g`$tUqWvhER,*"><field name="VAR">UserFlag</field><field name="ioinput">String</field><value name="VALUE"><block type="text" id="$Od/x(VhFzyVAdx~3;Sz"><field name="TEXT">0</field></block></value><next><block type="variables_declare" id="_g6{~c{H~7QYzJ6?BfV*"><field name="VAR">temp</field><field name="ioinput">String</field><value name="VALUE"><block type="text" id="?|{slXug)K3-0W[4a42r"><field name="TEXT">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>
<!-- edittype="asr_pro" -->
<!-- officialLib="[]" -->
<!-- personalLib="[]" -->